<form #formatoNgForm="ngForm" id="formatoNgForm" [formGroup]="editForm">
  <div class="container-fluid mt-1">
    <div class="row mt-2">
      <div class="col-12 withoutPadding">
        <table
          class="table"
          id="tablaContenedor"
          style="width: 90%; margin-left: auto; margin-right: auto"
        >
          <tr>
            <td>
              <tabset style="margin-left: auto; margin-right: auto" #staticTabs>
                <tab heading="PARAMETRO DE LIQUIDACION">
                  <table>
                    <!--Tercero-->
                    <tr>
                      <td style="padding: 0px 10px">
                        <div class="form-row mt-4">
                          <!--tipoDocumentoIdentidad-->
                          <div class="form-group col-md-2" style="margin: 0px">
                            <label
                              for="tipoDocumentoIdentidad"
                              class="col-form-label-md"
                              >Tipo de identificación</label
                            >
                            <p class="paragraph">
                              {{ tercero.tipoDocumentoIdentidad }}
                            </p>
                          </div>
                          <!--NumeroDocumentoIdentidad-->
                          <div class="form-group col-md-2" style="margin: 0px">
                            <label
                              for="NumeroDocumentoIdentidad"
                              class="col-form-label-md"
                              >Número de identificación</label
                            >
                            <p class="paragraph">
                              {{ tercero.numeroIdentificacion }}
                            </p>
                          </div>
                          <!--NombreTercero-->
                          <div class="form-group col-md-8" style="margin: 0px">
                            <label for="NombreTercero" class="col-form-label-md"
                              >Nombre</label
                            >
                            <p class="paragraph">{{ tercero.nombre }}</p>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="addHeight"></td>
                    </tr>
                    <!--Parametros de liquidación de tercero-->
                    <!--Contractuales-->
                    <tr>
                      <td style="padding: 0px 10px">
                        <div class="panel panel-primary mb-2">
                          <div class="panel-heading">
                            <strong>CONTRACTUALES</strong>
                          </div>
                          <div class="panel-body mb-2">
                            <div class="form-row mt-2">
                              <!--Modalidad de contrato-->
                              <div
                                class="form-group col-md-4"
                                style="margin: 0px"
                              >
                                <label
                                  for="selectModalidadContrato"
                                  class="col-form-label-md"
                                  >Modalidad de Contrato</label
                                >
                                <select
                                  *ngIf="listaModalidadContrato"
                                  formControlName="modalidadContratoCtrl"
                                  (change)="onModalidadContrato()"
                                  class="form-control withoutPadding"
                                  style="height: 33px; padding-left: 5px"
                                  id="selectModalidadContrato"
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('modalidadContratoCtrl')
                                        .touched &&
                                      editForm
                                        .get('modalidadContratoCtrl')
                                        .hasError('required')
                                  }"
                                >
                                  <option [ngValue]="null" disabled>
                                    Modalidad de contrato
                                  </option>
                                  <option
                                    *ngFor="let item of listaModalidadContrato"
                                    [ngValue]="item"
                                  >
                                    {{ item.nombre }}
                                  </option>
                                </select>
                                <div
                                  class="invalid-feedback"
                                  *ngIf="
                                    editForm.get('modalidadContratoCtrl')
                                      .touched &&
                                    editForm
                                      .get('modalidadContratoCtrl')
                                      .hasError('required')
                                  "
                                >
                                  Debe seleccionar la modalidad de contrato
                                </div>
                              </div>
                              <!--Honorario sin iva-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputHonorarioSinIva"
                                  class="col-form-label-md"
                                  >Honor. sin iva</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('honorarioSinIvaCtrl')
                                        .errors &&
                                      editForm.get('honorarioSinIvaCtrl')
                                        .touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="Honorario sin Iva"
                                  formControlName="honorarioSinIvaCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputHonorarioSinIva"
                                  matInput
                                  appDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar honorario sin iva
                                </div>
                              </div>
                              <!--Tarifa Iva-->
                              <div
                                class="form-group col-md-1"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputHonorarioSinIva"
                                  class="col-form-label-md"
                                  >Tarifa Iva</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('tarifaIvaCtrl').errors &&
                                      editForm.get('tarifaIvaCtrl').touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="Tarifa Iva"
                                  formControlName="tarifaIvaCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputHonorarioSinIva"
                                  appDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar Tarifa Iva
                                </div>
                              </div>
                              <!--Factura Electrónica-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="selectFacturaElectronica"
                                  class="col-form-label-md"
                                  >Fact. Electrónica</label
                                >
                                <select
                                  *ngIf="listaFacturaElectronica"
                                  formControlName="facturaElectronicaCtrl"
                                  (change)="onFacturaElectronica()"
                                  class="form-control withoutPadding"
                                  style="height: 33px; padding-left: 5px"
                                  id="selectFacturaElectronica"
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('facturaElectronicaCtrl')
                                        .touched &&
                                      editForm
                                        .get('facturaElectronicaCtrl')
                                        .hasError('required')
                                  }"
                                >
                                  <option disabled [ngValue]="null">
                                    Fact. Elec.
                                  </option>
                                  <option
                                    *ngFor="let item of listaFacturaElectronica"
                                    [ngValue]="item"
                                  >
                                    {{ item.nombre }}
                                  </option>
                                </select>
                                <div
                                  class="invalid-feedback"
                                  *ngIf="
                                    editForm.get('facturaElectronicaCtrl')
                                      .touched &&
                                    editForm
                                      .get('facturaElectronicaCtrl')
                                      .hasError('required')
                                  "
                                >
                                  Debe seleccionar factura electrónica
                                </div>
                              </div>
                              <!--Subcontrata-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="selectSubContrata"
                                  class="col-form-label-md"
                                  >Subcontrata</label
                                >
                                <select
                                  *ngIf="listaSubcontrata"
                                  formControlName="subcontrataCtrl"
                                  (change)="onSubcontrata()"
                                  class="form-control withoutPadding"
                                  style="height: 33px; padding-left: 5px"
                                  id="selectSubContrata"
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('subcontrataCtrl').touched &&
                                      editForm
                                        .get('subcontrataCtrl')
                                        .hasError('required')
                                  }"
                                >
                                  <option disabled [ngValue]="null">
                                    Subcontrata
                                  </option>
                                  <option
                                    *ngFor="let item of listaSubcontrata"
                                    [ngValue]="item"
                                  >
                                    {{ item.nombre }}
                                  </option>
                                </select>
                                <div
                                  class="invalid-feedback"
                                  *ngIf="
                                    editForm.get('subcontrataCtrl').touched &&
                                    editForm
                                      .get('subcontrataCtrl')
                                      .hasError('required')
                                  "
                                >
                                  Debe seleccionar Subcontrata
                                </div>
                              </div>
                            </div>
                            <div class="form-row mt-2">
                              <!--Tipo de Cuenta Por Pagar-->
                              <div
                                class="form-group col-md-4"
                                style="margin: 0px"
                              >
                                <label
                                  for="selectTipoCuentaXPagar"
                                  class="col-form-label-md"
                                  >Tipo de cuenta por pagar</label
                                >
                                <select
                                  *ngIf="listaTipoCuentaXPagar"
                                  formControlName="tipoCuentaXPagarCtrl"
                                  (change)="onTipoCuentaXPagar()"
                                  class="form-control withoutPadding"
                                  style="height: 33px; padding-left: 5px"
                                  id="selectTipoCuentaXPagar"
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('tipoCuentaXPagarCtrl')
                                        .touched &&
                                      editForm
                                        .get('tipoCuentaXPagarCtrl')
                                        .hasError('required')
                                  }"
                                >
                                  <option disabled [ngValue]="null">
                                    TIPO CUENTA POR PAGAR
                                  </option>
                                  <option
                                    *ngFor="let item of listaTipoCuentaXPagar"
                                    [ngValue]="item"
                                  >
                                    {{ item.nombre }}
                                  </option>
                                </select>
                                <div
                                  class="invalid-feedback"
                                  *ngIf="
                                    editForm.get('tipoCuentaXPagarCtrl')
                                      .touched &&
                                    editForm
                                      .get('tipoCuentaXPagarCtrl')
                                      .hasError('required')
                                  "
                                >
                                  Debe seleccionar tipo de cuenta x pagar
                                </div>
                              </div>
                              <!--Tipo de pago-->
                              <div
                                class="form-group col-md-4"
                                style="margin: 0px"
                              >
                                <label
                                  for="selectTipoDocumentoSoporte"
                                  class="col-form-label-md"
                                  >Tipo de Documento de Soporte</label
                                >
                                <select
                                  *ngIf="listaTipoDocumentoSoporte"
                                  formControlName="tipoDocumentoSoporteCtrl"
                                  (change)="onTipoDocumentoSoporte()"
                                  class="form-control withoutPadding"
                                  style="height: 33px; padding-left: 5px"
                                  id="selectTipoDocumentoSoporte"
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('tipoDocumentoSoporteCtrl')
                                        .touched &&
                                      editForm
                                        .get('tipoDocumentoSoporteCtrl')
                                        .hasError('required')
                                  }"
                                >
                                  <option disabled [ngValue]="null">
                                    TIPO DE DOCUMENTO DE SOPORTE
                                  </option>
                                  <option
                                    *ngFor="
                                      let item of listaTipoDocumentoSoporte
                                    "
                                    [ngValue]="item"
                                  >
                                    {{ item.nombre }}
                                  </option>
                                </select>
                                <div
                                  class="invalid-feedback"
                                  *ngIf="
                                    editForm.get('tipoDocumentoSoporteCtrl')
                                      .touched &&
                                    editForm
                                      .get('tipoDocumentoSoporteCtrl')
                                      .hasError('required')
                                  "
                                >
                                  Debe seleccionar Tipo de Pago
                                </div>
                              </div>
                              <!--Supervisor-->
                              <div
                                class="form-group col-md-4"
                                style="margin: 0px"
                              >
                                <label
                                  for="selectSupervisor"
                                  class="col-form-label-md"
                                  >Supervisor</label
                                >
                                <select
                                  *ngIf="listaSupervisor"
                                  formControlName="supervisorCtrl"
                                  (change)="onSupervisor()"
                                  class="form-control withoutPadding"
                                  style="height: 33px; padding-left: 5px"
                                  id="selectSupervisor"
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('supervisorCtrl').touched &&
                                      editForm
                                        .get('supervisorCtrl')
                                        .hasError('required')
                                  }"
                                >
                                  <option [ngValue]="null" disabled>
                                    SUPERVISOR
                                  </option>
                                  <option
                                    *ngFor="let item of listaSupervisor"
                                    [ngValue]="item"
                                  >
                                    {{ item.nombre }}
                                  </option>
                                </select>
                                <div
                                  class="invalid-feedback"
                                  *ngIf="
                                    editForm.get('supervisorCtrl').touched &&
                                    editForm
                                      .get('supervisorCtrl')
                                      .hasError('required')
                                  "
                                >
                                  Debe seleccionar Supervisor
                                </div>
                              </div>
                            </div>
                            <div class="form-row mt-2">
                              <!--Base Grav. Renta-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="selectTipoPago"
                                  class="col-form-label-md"
                                  >Base Grav. Renta</label
                                >
                                <select
                                  *ngIf="listaTipoPago"
                                  formControlName="tipoPagoCtrl"
                                  (change)="onTipoPago()"
                                  class="form-control withoutPadding"
                                  style="height: 33px; padding-left: 5px"
                                  id="selectTipoPago"
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('tipoPagoCtrl').touched &&
                                      editForm
                                        .get('tipoPagoCtrl')
                                        .hasError('required')
                                  }"
                                >
                                  <option disabled [ngValue]="null">
                                    Base Grav. Renta
                                  </option>
                                  <option
                                    *ngFor="let item of listaTipoPago"
                                    [ngValue]="item"
                                  >
                                    {{ item.nombre }}
                                  </option>
                                </select>
                                <div
                                  class="invalid-feedback"
                                  *ngIf="
                                    editForm.get('tipoPagoCtrl').touched &&
                                    editForm
                                      .get('tipoPagoCtrl')
                                      .hasError('required')
                                  "
                                >
                                  Debe seleccionar Tipo de Pago
                                </div>
                              </div>

                              <!--Base Grav. Iva-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="selectTipoIva"
                                  class="col-form-label-md"
                                  >Base Grav. Iva</label
                                >
                                <select
                                  *ngIf="listaTipoIva"
                                  formControlName="tipoIvaCtrl"
                                  (change)="onTipoIva()"
                                  class="form-control withoutPadding"
                                  style="height: 33px; padding-left: 5px"
                                  id="selectTipoIva"
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('tipoIvaCtrl').touched &&
                                      editForm
                                        .get('tipoIvaCtrl')
                                        .hasError('required')
                                  }"
                                >
                                  <option disabled [ngValue]="null">
                                    Base Grav. Iva
                                  </option>
                                  <option
                                    *ngFor="let item of listaTipoIva"
                                    [ngValue]="item"
                                  >
                                    {{ item.nombre }}
                                  </option>
                                </select>
                                <div
                                  class="invalid-feedback"
                                  *ngIf="
                                    editForm.get('tipoIvaCtrl').touched &&
                                    editForm
                                      .get('tipoIvaCtrl')
                                      .hasError('required')
                                  "
                                >
                                  Debe seleccionar Tipo de Pago
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="addHeight"></td>
                    </tr>
                    <!--Seguridad Social-->
                    <tr *ngIf="this.idModalidadContratoSelecionado === 1">
                      <td style="padding: 0px 10px">
                        <div class="panel panel-primary mb-2">
                          <div class="panel-heading">
                            <strong>SEGURIDAD SOCIAL</strong>
                          </div>
                          <div class="panel-body mb-2">
                            <div class="form-row mt-3">
                              <!--Base Aporte Salud-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputBaseAporteSalud"
                                  class="col-form-label-md"
                                  >Base Aporte Salud</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('baseAporteSaludCtrl')
                                        .errors &&
                                      editForm.get('baseAporteSaludCtrl')
                                        .touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="Base Aporte Salud"
                                  formControlName="baseAporteSaludCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputBaseAporteSalud"
                                  appDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar el Base Aporte Salud
                                </div>
                              </div>
                              <!--Aporte Salud-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputAporteSalud"
                                  class="col-form-label-md"
                                  >Aporte Salud</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('aporteSaludCtrl').errors &&
                                      editForm.get('aporteSaludCtrl').touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="Aporte Salud"
                                  formControlName="aporteSaludCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputAporteSalud"
                                  appLongDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar el Aporte Salud
                                </div>
                              </div>
                              <!--Aporte Pensión -->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputAportePension"
                                  class="col-form-label-md"
                                  >Aporte Pensión</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('aportePensionCtrl')
                                        .errors &&
                                      editForm.get('aportePensionCtrl').touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="Aporte Pensión"
                                  formControlName="aportePensionCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputAportePension"
                                  appLongDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar el Aporte Pensión
                                </div>
                              </div>
                              <!--Riesgo Laboral-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputRiesgoLaboral"
                                  class="col-form-label-md"
                                  >Riesgo Laboral</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('riesgoLaboralCtrl')
                                        .errors &&
                                      editForm.get('riesgoLaboralCtrl').touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="Riesgo Laboral"
                                  formControlName="riesgoLaboralCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputRiesgoLaboral"
                                  appLongDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar el Riesgo Laboral
                                </div>
                              </div>
                              <!--Fondo Solidaridad-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputFondoSolidaridad"
                                  class="col-form-label-md"
                                  >Fondo Solidaridad</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('fondoSolidaridadCtrl')
                                        .errors &&
                                      editForm.get('fondoSolidaridadCtrl')
                                        .touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="fondo Solidaridad"
                                  formControlName="fondoSolidaridadCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputFondoSolidaridad"
                                  appDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar el Fondo de Solidaridad
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="addHeight"></td>
                    </tr>
                    <!--Descuentos-->
                    <tr *ngIf="this.idModalidadContratoSelecionado === 1">
                      <td style="padding: 0px 10px">
                        <div class="panel panel-primary mb-2">
                          <div class="panel-heading">
                            <strong>DESCUENTOS</strong>
                          </div>
                          <div class="panel-body mb-2">
                            <div class="form-row mt-3">
                              <!--Pensión Voluntaria-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputPensionVoluntaria"
                                  class="col-form-label-md"
                                  >Pensión Voluntaria</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('pensionVoluntariaCtrl')
                                        .errors &&
                                      editForm.get('pensionVoluntariaCtrl')
                                        .touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="Pensión Voluntaria"
                                  formControlName="pensionVoluntariaCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputPensionVoluntaria"
                                  appDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar la Pensión Voluntaria
                                </div>
                              </div>
                              <!--Dependientes-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputDependientes"
                                  class="col-form-label-md"
                                  >Dependientes</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('dependienteCtrl').errors &&
                                      editForm.get('dependienteCtrl').touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="Dependientes"
                                  formControlName="dependienteCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputDependientes"
                                  appDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar Dependientes
                                </div>
                              </div>
                              <!--AFC -->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label for="inputAFC" class="col-form-label-md"
                                  >AFC</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('afcCtrl').errors &&
                                      editForm.get('afcCtrl').touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="AFC"
                                  formControlName="afcCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputAFC"
                                  appDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar AFC
                                </div>
                              </div>
                              <!--Medicina Prepagada-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputMedicinaPrepagada"
                                  class="col-form-label-md"
                                  >Medicina Prepagada</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('medicinaPrepagadaCtrl')
                                        .errors &&
                                      editForm.get('medicinaPrepagadaCtrl')
                                        .touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="Medicina Prepagada"
                                  formControlName="medicinaPrepagadaCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputMedicinaPrepagada"
                                  appDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar Medicina Prepagada
                                </div>
                              </div>
                            </div>
                            <!--Intereses Vivienda-->
                            <div class="form-row mt-2">
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputInteresesVivienda"
                                  class="col-form-label-md"
                                  >Intereses Vivienda</label
                                >
                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('interesesViviendaCtrl')
                                        .errors &&
                                      editForm.get('interesesViviendaCtrl')
                                        .touched
                                  }"
                                  type="text"
                                  class="form-control"
                                  placeholder="Interes Vivienda"
                                  formControlName="interesesViviendaCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputInteresesVivienda"
                                  appDecimalMask
                                />
                                <div class="invalid-feedback">
                                  Debe ingresar Intereses Vivienda
                                </div>
                              </div>
                              <!--Fecha de inicio-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputFechaInicio"
                                  class="col-form-label-md"
                                  >Fecha inicial</label
                                >

                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('fechaInicioCtrl').errors &&
                                      editForm.get('fechaInicioCtrl').touched
                                  }"
                                  class="form-control"
                                  placeholder="Fecha de inicio"
                                  formControlName="fechaInicioCtrl"
                                  type="text"
                                  bsDatepicker
                                  style="height: 33px; text-align: center"
                                  [bsConfig]="bsConfig"
                                  id="inputFechaInicio"
                                />
                                <div
                                  class="invalid-feedback"
                                  *ngIf="
                                    editForm.get('fechaInicioCtrl').touched &&
                                    editForm
                                      .get('fechaInicioCtrl')
                                      .hasError('required')
                                  "
                                >
                                  La fecha de inicio es requerida
                                </div>
                              </div>
                              <!--Fecha Final-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputFechaFinal"
                                  class="col-form-label-md"
                                  >Fecha final</label
                                >

                                <input
                                  [ngClass]="{
                                    'is-invalid':
                                      editForm.get('fechaFinalCtrl').errors &&
                                      editForm.get('fechaFinalCtrl').touched
                                  }"
                                  class="form-control"
                                  placeholder="Fecha final"
                                  formControlName="fechaFinalCtrl"
                                  type="text"
                                  style="height: 33px; text-align: center"
                                  bsDatepicker
                                  [bsConfig]="bsConfig"
                                  id="inputFechaFinal"
                                />
                                <div
                                  class="invalid-feedback"
                                  *ngIf="
                                    editForm.get('fechaFinalCtrl').touched &&
                                    editForm
                                      .get('fechaFinalCtrl')
                                      .hasError('required')
                                  "
                                >
                                  La fecha final es requerida
                                </div>
                              </div>
                            </div>
                            <!--Otros Descuentos-->
                            <div class="form-row mt-2">
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputOtrosDescuentos"
                                  class="col-form-label-md"
                                  >Otros descuentos</label
                                >
                                <input
                                  type="text"
                                  class="form-control"
                                  placeholder="Otros descuentos"
                                  formControlName="otrosDescuentosCtrl"
                                  style="text-align: right; height: 30px"
                                  id="inputOtrosDescuentos"
                                  appDecimalMask
                                />
                              </div>
                              <!--Fecha de inicio-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputFechaInicioOtrosDescuentos"
                                  class="col-form-label-md"
                                  >Fecha inicial</label
                                >

                                <input
                                  class="form-control"
                                  placeholder="Fecha de inicio"
                                  formControlName="fecIniOtrosDescuentosCtrl"
                                  type="text"
                                  bsDatepicker
                                  style="height: 33px; text-align: center"
                                  [bsConfig]="bsConfig"
                                  id="inputFechaInicioOtrosDescuentos"
                                />
                              </div>
                              <!--Fecha Final-->
                              <div
                                class="form-group col-md-2"
                                style="margin: 0px"
                              >
                                <label
                                  for="inputFechaFinalOtrosDescuentos"
                                  class="col-form-label-md"
                                  >Fecha final</label
                                >

                                <input
                                  class="form-control"
                                  placeholder="Fecha final"
                                  formControlName="fecFinOtrosDescuentosCtrl"
                                  type="text"
                                  style="height: 33px; text-align: center"
                                  bsDatepicker
                                  [bsConfig]="bsConfig"
                                  id="inputFechaFinalOtrosDescuentos"
                                />
                              </div>
                            </div>
                          </div>
                        </div>
                      </td>
                    </tr>
                  </table>
                </tab>
                <tab heading="DEDUCCIONES" [disabled]="true">
                  <table>
                    <!--Deducción-->
                    <tr>
                      <td style="padding: 0px 10px">
                        <div class="form-row mt-4">
                          <div class="form-group col-md-2">
                            <label
                              for="inputActividad"
                              class="col-form-label-md"
                              >Código</label
                            >
                            <input
                              [(ngModel)]="searchActividad"
                              typeaheadOptionField="codigo"
                              [typeahead]="suggestionsActividad$"
                              [typeaheadAsync]="true"
                              (typeaheadOnSelect)="
                                typeaheadOnSelectActividad($event)
                              "
                              placeholder="Actividad Económica"
                              formControlName="codigoActividadCtrl"
                              class="form-control border border-bottom-0 addPaddingLeft"
                              style="height: 20px; background-color: white"
                              id="inputActividad"
                            />
                            <div
                              class="alert alert-danger"
                              role="alert"
                              *ngIf="errorMessage"
                            >
                              {{ errorMessage }}
                            </div>
                          </div>
                          <div class="form-group col-md-10">
                            <label
                              for="inputActividadEconomica"
                              class="col-form-label-md"
                              >Actividad económica</label
                            >
                            <input
                              type="text"
                              class="form-control border addPaddingLeft"
                              style="height: 20px"
                              maxlength="50"
                              formControlName="actividadCtrl"
                              id="inputActividadEconomica"
                              value="{{ actividadEconomica?.nombre }}"
                              readonly
                            />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group col-md-2">
                            <label for="inputCodigo" class="col-form-label-md"
                              >Código</label
                            >
                            <input
                              [(ngModel)]="searchDeduccion"
                              typeaheadOptionField="codigo"
                              [typeahead]="suggestionsDeduccion$"
                              [typeaheadAsync]="true"
                              (typeaheadOnSelect)="
                                typeaheadOnSelectDeduccion($event)
                              "
                              placeholder="Deducción"
                              formControlName="codigoDeduccionCtrl"
                              class="form-control border border-bottom-0 addPaddingLeft"
                              style="height: 20px; background-color: white"
                              id="inputCodigo"
                            />
                            <div
                              class="alert alert-danger"
                              role="alert"
                              *ngIf="errorMessage"
                            >
                              {{ errorMessage }}
                            </div>
                          </div>
                          <div class="form-group col-md-8">
                            <label
                              for="inputDeduccion"
                              class="col-form-label-md"
                              >Deducción</label
                            >
                            <input
                              type="text"
                              class="form-control border addPaddingLeft"
                              style="height: 20px"
                              maxlength="50"
                              formControlName="deduccionCtrl"
                              id="inputDeduccion"
                              value="{{ deduccion?.nombre }}"
                              readonly
                            />
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-group col-md-6">
                            <table>
                              <tr style="vertical-align: bottom">
                                <td style="padding: 0px">
                                  <button
                                    type="submit"
                                    class="btn btn-primary"
                                    (click)="onAgregarDeduccion()"
                                    [disabled]="
                                      actividadEconomicaId === 0 ||
                                      deduccionId === 0
                                    "
                                  >
                                    Agregar</button
                                  >&nbsp;
                                  <button
                                    type="submit"
                                    class="btn btn-danger"
                                    (click)="onEliminarDeduccion()"
                                    [disabled]="
                                      listaTerceroDeducciones.length === 0
                                    "
                                  >
                                    Eliminar</button
                                  >&nbsp;
                                  <button
                                    type="submit"
                                    class="btn btn-success"
                                    (click)="onLimpiarDeduccion()"
                                  >
                                    Limpiar
                                  </button>
                                </td>
                              </tr>
                            </table>
                          </div>
                        </div>
                        <!--Grilla de deducciones-->
                        <div class="form-row mt-2">
                          <div style="width: 3%" class="inner center">
                            <label class="col-form-label-md">Cod.</label>
                          </div>
                          <div style="width: 30%" class="inner center">
                            <label class="col-form-label-md"
                              >Actividad Económica</label
                            >
                          </div>
                          <div style="width: 12%" class="inner center">
                            <label class="col-form-label-md">Código</label>
                          </div>
                          <div style="width: 28%" class="inner center">
                            <label class="col-form-label-md">Deducción</label>
                          </div>
                          <div style="width: 23%" class="inner center">
                            <label class="col-form-label-md">Tercero</label>
                          </div>
                          <div style="width: 4%" class="inner center">
                            <label class="col-form-label-md">Sel.</label>
                          </div>
                        </div>
                        <div *ngIf="listaTerceroDeducciones">
                          <div
                            formArrayName="planPagoControles"
                            class="form-row"
                            *ngFor="
                              let item of listaTerceroDeducciones;
                              let i = index
                            "
                          >
                            <ng-container [formGroupName]="i">
                              <div
                                style="width: 3%"
                                class="inner center aplicaBackground"
                              >
                                <p style="font-size: 12px">
                                  {{ item?.actividadEconomica.codigo }}
                                </p>
                              </div>
                              <div
                                style="width: 30%"
                                class="inner left aplicaBackground"
                              >
                                <p style="font-size: 12px">
                                  {{ item?.actividadEconomica.nombre }}
                                </p>
                              </div>
                              <div
                                style="width: 12%"
                                class="inner center aplicaBackground"
                              >
                                <p style="font-size: 12px">
                                  {{ item?.deduccion.codigo }}
                                </p>
                              </div>
                              <div
                                style="width: 28%"
                                class="inner left aplicaBackground"
                              >
                                <p style="font-size: 12px">
                                  {{ item?.deduccion.nombre }}
                                </p>
                              </div>
                              <div
                                style="width: 23%"
                                class="inner left aplicaBackground"
                              >
                                <p style="font-size: 12px">
                                  {{ item?.terceroDeDeduccion.nombre }}
                                </p>
                              </div>
                              <div
                                style="width: 4%"
                                class="inner aplicaBackground parent"
                              >
                                <button
                                  class="btn btn-success btn-sm child"
                                  (click)="abrirPopup(i)"
                                  *ngIf="item?.terceroDeDeduccion.valor === ''"
                                >
                                  Sel.
                                </button>
                              </div>
                            </ng-container>
                          </div>
                        </div>
                      </td>
                    </tr>
                  </table>
                </tab>
              </tabset>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</form>
<div class="container-fluid">
  <div class="row mt-1">
    <div class="col-12 withoutPadding right">
      <table style="width: 90%; margin-left: auto; margin-right: auto">
        <tr>
          <td>
            <button
              type="submit"
              class="btn btn-success mr-2"
              (click)="onLimpiarForm()"
            >
              Limpiar
            </button>
            <button
              type="submit"
              class="btn btn-primary mr-2"
              (click)="onGuardar()"
              [disabled]="!editForm.valid"
            >
              {{ nombreBoton }}
            </button>
            <button
              type="button"
              class="btn btn-default"
              (click)="onCancelar()"
            >
              Volver
            </button>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>

<!-- <p>Form status: {{ editForm.status | json }}</p>

  <p>Form value: {{ editForm.value | json }}</p>

  <p>
  parametroLiquidacionSeleccionado:
  {{ parametroLiquidacionSeleccionado | json }}
</p> -->
